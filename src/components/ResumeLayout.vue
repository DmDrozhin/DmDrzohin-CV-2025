<script setup>
import { computed, ref, watch, watchEffect } from 'vue';
import { useDisplay, useTheme } from 'vuetify';

const drawer = ref(true); // –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const display = useDisplay();
const themeColors = useTheme().current.value.colors;

const isMobile = computed(() => useDisplay().mobile);
const vTcolors = computed(() => themeColors.value);

console.log('width:', display.width.value);
console.log('smAndDown:', display.smAndDown.value);
console.log('lgAndUp:', display.lgAndUp.value);
console.log('Mobile:', display.mobile.value);

watchEffect(() => {
  drawer.value = !display.mobile.value;
});

// –°–ª–µ–¥–∏–º –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
// watch(
//   () => display.mobile.value,
//   (mobile) => {
//     console.log('Watcher 1', mobile);
//     drawer.value = !mobile; // –Ω–∞ –º–æ–±–∏–ª–∫–µ –∑–∞–∫—Ä—ã—Ç—å, –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –æ—Ç–∫—Ä—ã—Ç—å
//     console.log('Watcher 2', !mobile);
//     console.log('Watcher 3', drawer.value);
//   },
//   { immediate: true }
// );
</script>
<template>
  <div class="resume">
    <v-app-bar class="resume__header" absolute>
      <v-toolbar-title>–ú–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</v-toolbar-title>
      <!-- –ë—É—Ä–≥–µ—Ä —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö -->
      <v-btn
        v-if="isMobile.value"
        class="resume__burger"
        icon
        @click="drawer = !drawer"
      >
        <v-icon>mdi-menu</v-icon>
      </v-btn>
    </v-app-bar>
    <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞ -->
    <v-navigation-drawer
      v-model="drawer"
      class="resume__sidebar"
      location="right"
      :permanent="!isMobile.value"
      :mobile="isMobile.value"
      color="grey-lighten-4"
      absolute
    >
      <v-list>
        <v-list-item title="–ü—Ä–æ—Ñ–∏–ª—å" />
        <v-list-item title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" />
        <v-list-item title="–í—ã—Ö–æ–¥" />
      </v-list>
    </v-navigation-drawer>
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <v-main>
      <v-container>
        <h1>–ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã</h1>
        <p>
          üëâ –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –ø–∞–Ω–µ–ª—å –≤—Å–µ–≥–¥–∞ —Å–ø—Ä–∞–≤–∞ –∏ –≤–∏–¥–Ω–∞ –±–µ–∑ –±—É—Ä–≥–µ—Ä–∞.<br />
          üëâ –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö ‚Äî –ø–∞–Ω–µ–ª—å —Å–∫—Ä—ã—Ç–∞ –∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å overlay –ø–æ –∫–Ω–æ–ø–∫–µ.
        </p>
      </v-container>
    </v-main>
  </div>
</template>
<style lang="scss" scoped>
.resume {
  width: 100%;
  max-width: 794px;
  min-height: 1123px;
  position: relative;
  margin: 0 auto;
  overflow: hidden;
  background: $grey-D1;
  box-shadow: 0 0 16px rgba(0, 0, 0, 0.15);
}
</style>
